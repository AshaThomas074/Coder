@model IEnumerable<Coder.Models.Contest>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var DivStatus = "toggled-off";
    var activeContests = new List<Contest>();
    var archivedContests = new List<Contest>();
    TimeSpan time = TimeSpan.Zero;
    if (Model != null && Model.Count() > 0)
    {
        activeContests = Model.Where(x => x.Status == 1).ToList();
        archivedContests = Model.Where(x => x.Status == 0).ToList();
    }
}
<link href="~/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" />
<link href="~/css/dashboard.css" rel="stylesheet" />
<script src="~/js/dashboard.js"></script>

<h2>Contests</h2>
<hr />
<br />

    <h4>Active Contests</h4>
    <div>
        @if (activeContests != null && activeContests.Count() > 0)
        {
            @foreach (var item in activeContests)
            {
            DivStatus = item.DivOpenStatus == true ? "toggled-on" : "toggled-off";
            <div class="@DivStatus" style="margin-top:15px;">
                <div class="toggle-title ">
                    <i class="fa fa-angle-down fa-fw"></i>
                    <i class="fa fa-angle-up fa-fw"></i>
                    <h5>@item.ContestName</h5>
                    <h7>@item.FinalDate</h7><br>
                    <h7><a asp-action="GetLeaderBoard" asp-route-id="@item.ContestId">Current LeaderBoard</a></h7>
                </div>
                <!-- end toggle-title --->
                <div class="toggle-content">
                    <table style="width:100%;">     
                         <tr>
                            <th style="width:50%">Question</th>
                            <th style="width:25%">Started Count</th>
                            <th style="width:25%">Completed Count</th>
                        </tr>
                    @foreach(var q in item.QuestionContestList)
                    {
                        <tr>
                            <td><a asp-action="ViewStudentStatus" asp-route-id="@q.QuestionContestId">@q.QuestionHeading</a></td>
                            <td>@q.StartedCount</td>
                            <td>@q.CompletedCount</td>
                        </tr>
                    }
                    </table>
                </div>
                <!-- end section-toggle-->
            </div>
            <!-- end toggle-on-->

            }
        }
    </div>


    <h4 style="margin-top: 23px;">Archived Contests</h4>
    @if (archivedContests != null && archivedContests.Count() > 0)
    {   
        DivStatus = "";
    
    <div>
        @foreach (var item in archivedContests)
        {
            DivStatus = item.DivOpenStatus == true ? "toggled-on" : "toggled-off";
            <div class="@DivStatus" style="margin-top:15px;">
                <div class="toggle-title">
                    <i class="fa fa-angle-down fa-fw"></i>
                    <i class="fa fa-angle-up fa-fw"></i>
                    <h5>@item.ContestName</h5>
                    <h7>@item.FinalDate</h7><br>
                    <h7><a asp-action="GetLeaderBoard" asp-route-id="@item.ContestId">Current LeaderBoard</a></h7>
                </div>
                <!-- end toggle-title --->
                <div class="toggle-content">
                    <table style="width:100%;">
                        <tr>
                            <th style="width:50%">Question</th>
                            <th style="width:25%">Started Count</th>
                            <th style="width:25%">Completed Count</th>
                        </tr>
                        @foreach (var q in item.QuestionContestList)
                        {
                            <tr>
                                <td><a asp-action="ViewStudentStatus" asp-route-id="@q.QuestionContestId">@q.QuestionHeading</a></td>
                                <td>@q.StartedCount</td>
                                <td>@q.CompletedCount</td>
                            </tr>
                        }
                    </table>
                </div>
                <!-- end section-toggle-->
            </div>
            <!-- end toggle-on-->
        }
            
        </div>
    }



